<StartingScreen>:
    GridLayout:
        cols: 1
        Button:
            text: "Add preset"
            font_size: 25
            size_hint: 1, None
            height: 40
            on_press:
                app.root.transition.direction: "left"
                app.root.current = "edit_preset"
                #app.add_preset()


<SelectableLabel>:
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (1, 0, 0, 1) if self.selected else (.0, 0.9, .1, .3)
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: (0, 0.9, .1, .3)
        Rectangle:
            pos: self.pos
            size: self.size

<EditPresetScreen>:
    preset_name: preset_name
    sv: sv
    grid: grid
    exercise_name: exercise_name
    exercise_brk: exercise_brk
    exercise_reps: exercise_reps
    exercise_time: exercise_time
    toggle_button: toggle_button
    GridLayout:
        cols: 1
        id: grid
        BoxLayout:
            size_hint_y: None
            height: 40
            Button:
                text: "<--"
                font_size: 25
                on_press:
                    app.root.transition.direction = 'right'
                    app.root.current = 'start'
                    app.current_preset = None
            Button:
                text: "Add exercise"
                font_size: 25
                on_press:
                    root.add()
            Button:
                text: "Save preset"
                font_size: 25
                on_press:
                    app.root.transition.direction = 'right'
                    app.root.current = 'start'
                    root.save()

        Label:
            text: root.preset_name.text
            size_hint_y: None
            height: 100
            font_size: 40
        BoxLayout:
            size_hint_y: None
            height: 100
            Label:
                text: "Name:"
                font_size: 25
            TextInput:
                id: preset_name
                font_size: 25
                multiline: False
        GridLayout:
            cols: 2
            size_hint_y = None
            height = 100
            BoxLayout:
                Label:
                    text: "Name:"
                TextInput:
                    id: exercise_name
            BoxLayout:
                Label:
                    text: "Break duration:"
                TextInput:
                    id: exercise_brk
            BoxLayout:
                Label:
                    text: "Repetitions:"
                TextInput:
                    id: exercise_reps
            BoxLayout:
                Label:
                    text: "Duration:"
                TextInput:
                    id: exercise_time
            ToggleButton:
                id: toggle_button
                font_size: 25
                on_state:
                    root.on_toggle_button_state(self)
        BoxLayout:
            size_hint_y = None
            height = 40
            Button:
                text: "Save exercise"
                on_press:
                    root.save_exercise()
            Button:
                text: "remove exercise"
                on_press:
                    root.delete()
        RecycleView:
            id: preset_exercises
            viewclass: 'SelectableLabel'
        SelectableRecycleBoxLayout:
            default_size: None, dp(26)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'



